<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>用户管理</title>
    <!-- 公共 css -->
    <link th:replace="common/common_css"/>

</head>
<body>
<div class="page-container">
    <div th:replace="layout/sidebar"></div>
    <div th:replace="layout/topMenu"></div>

    <!-- 内容区域 -->
    <div class="container-fluid">
        <div class="container-fluid">
            <div class="row comm-operate ">
                <button class="btn btn-outline-primary btn-sm" onclick="addUser()"><i class="fa fa-plus-square"></i>
                    添加用户
                </button>
            </div>

            <form class="form-inline form-search form-search-label" action="userList">
                <div class="form-group col-sm-3 ">
                    <label for="realname" class="col-form-label ">姓名:</label>
                    <input type="text" class="form-control form-control-sm" id="realname">
                </div>
                <div class="form-group col-sm-3 ">
                    <label for="username" class="col-form-label">用户名称:</label>
                    <input type="text" class="form-control form-control-sm" id="username" placeholder="">
                </div>
                <div class="form-group col-sm-3 ">
                </div>
                <div class="form-group col-sm-3 ">
                    <button type="submit" class="btn btn-outline-primary btn-sm">搜索</button>
                </div>
            </form>

            <table class="table table-hover table-striped comm-table">
                <thead class="thead-dark">
                <tr>
                    <th>序号</th>
                    <th>姓名</th>
                    <th>用户名称</th>
                    <th>性别</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="user,stat : ${userList}">
                    <th th:text="${ stat.count }"></th>
                    <th th:text="${ user.realname }"></th>
                    <th th:text="${ user.username }"></th>
                    <th th:text="${ user.sex == 0 ? '女' : '男'}"></th>
                    <th></th>
                </tr>
                </tbody>
            </table>
            <!--<div class="row">
                <div class="col-lg-3">1</div>
                <div class="col-lg-3">2</div>
                <div class="col-lg-3">3</div>
                <div class="col-lg-3">4</div>
            </div>-->
        </div>

        <!-- model -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl modal-dialog-scrollable" style="max-width: 80%;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">新增用户</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="accordion" id="accordionExample">
                            <div class="card">
                                <div class="card-header" id="headingOne">
                                    <h2 class="mb-0">
                                        <button class="btn btn-link btn-block text-left" type="button"
                                                data-toggle="collapse" data-target="#collapseOne" aria-expanded="true"
                                                aria-controls="collapseOne">
                                            1. 用户信息
                                        </button>
                                    </h2>
                                </div>
                                <div id="collapseOne" class="collapse show" aria-labelledby="headingOne">
                                    <div class="card-body">
                                        <form class="form-inline comm-form-search">
                                            <div class="form-group col-md-6 comm-form-item">
                                                <label for="realnameIn" class="col-form-label"><span><span
                                                        style="color: red">*</span>姓名:</span></label>
                                                <input type="text" class="form-control" id="realnameIn">
                                            </div>
                                            <div class="form-group col-md-6 comm-form-item">
                                                <label for="sexIn" class="col-form-label"><span><span
                                                        style="color: red">*</span>性别:</span></label>
                                                <input type="text" class="form-control" id="sexIn">
                                            </div>
                                            <div class="form-group col-md-6 comm-form-item">
                                                <label for="usernameIn" class="col-form-label"><span><span
                                                        style="color: red">*</span>用户名:</span></label>
                                                <input type="text" class="form-control" id="usernameIn">
                                            </div>
                                            <div class="form-group col-md-6 comm-form-item">
                                                <label for="password" class="col-form-label"><span><span
                                                        style="color: red">*</span>密码:</span></label>
                                                <input type="text" class="form-control" id="password">
                                            </div>
                                            <div class="form-group col-md-12 comm-form-item ">
                                                <label for="remark" class="col-form-label"><span><span>&nbsp&nbsp</span>备注:</span></label>
                                                <textarea class="form-control" id="remark"></textarea>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-header" id="headingTwo">
                                    <h2 class="mb-0">
                                        <button class="btn btn-link btn-block text-left collapsed" type="button"
                                                data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false"
                                                aria-controls="collapseTwo">
                                            2. 权限配置
                                        </button>
                                    </h2>
                                </div>
                                <div id="collapseTwo" class="collapse show" aria-labelledby="headingTwo">
                                    <div class="card-body">
                                        <div class="row comm-operate-inner">
                                            <button class="btn btn-outline-primary" onclick="addConfig()"><i
                                                    class="fa fa-plus-square"></i> 新增角色
                                            </button>
                                        </div>
                                        <table class="table table-hover table-striped">
                                            <thead class="thead-dark">
                                            <tr>
                                                <th>序号</th>
                                                <th>角色名称</th>
                                                <th>排序号</th>
                                                <th>创建时间</th>
                                                <th>操作</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr th:each="role,stat : ${roleList}">
                                                <th th:text="${ stat.count }"></th>
                                                <th th:text="${ role.roleName }"></th>
                                                <th th:text="${ role.orderNum }"></th>
                                                <td th:text="${ #dates.format(role.createDt,'yyyy-MM-dd HH:mm') }"></td>
                                                <th>
                                                    <a>查看</a>
                                                </th>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-header" id="headingThree">
                                    <h2 class="mb-0">
                                        <button class="btn btn-link btn-block text-left collapsed" type="button"
                                                data-toggle="collapse" data-target="#collapseThree"
                                                aria-expanded="false"
                                                aria-controls="collapseThree">
                                            3. 其他信息
                                        </button>
                                    </h2>
                                </div>
                                <div id="collapseThree" class="collapse show" aria-labelledby="headingThree">
                                    <div class="card-body" id="otherContent">
                                        <table id="tableContent"></table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                        <button type="button" class="btn btn-primary">确认</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- model2 -->
        <div class="modal fade" id="exampleModalScrollable" tabindex="-1" aria-labelledby="exampleModalScrollableTitle"
             aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalScrollableTitle">Modal title</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>What follows is just some placeholder text for this modal dialog. You just gotta ignite the
                            light and let it shine! Come just as you are to me. Just own the night like the
                            4th of July. Infect me with your love and fill me with your poison. Come just as you are to
                            me. End of the rainbow looking treasure.</p>
                        <p>I can't sleep let's run away and don't ever look back, don't ever look back. I can't sleep
                            let's run away and don't ever look back, don't ever look back. Yes, we make angels
                            cry, raining down on earth from up above. I'm walking on air (tonight). Let you put your
                            hands on me in my skin-tight jeans. Stinging like a bee I earned my stripes. I went
                            from zero, to my own hero. Even brighter than the moon, moon, moon. Make 'em go, 'Aah, aah,
                            aah' as you shoot across the sky-y-y! Why don't you let me stop by?</p>
                        <p>Boom, boom, boom. Never made me blink one time. Yeah, you're lucky if you're on her plane.
                            Talk about our future like we had a clue. Oh my God no exaggeration. You're
                            original, cannot be replaced. The girl's a freak, she drive a jeep in Laguna Beach. It's no
                            big deal, it's no big deal, it's no big deal. In another life I would make you
                            stay. I'm ma get your heart racing in my skin-tight jeans. I wanna walk on your wave length
                            and be there when you vibrate Never made me blink one time.</p>
                        <p>We'd keep all our promises be us against the world. In another life I would be your girl. We
                            can dance, until we die, you and I, will be young forever. And on my 18th
                            Birthday we got matching tattoos. So open up your heart and just let it begin. 'Cause she's
                            the muse and the artist. She eats your heart out. Like Jeffrey Dahmer (woo). Pop
                            your confetti. (This is how we do) I know one spark will shock the world, yeah yeah. If you
                            only knew what the future holds.</p>
                        <p>Sipping on Rosé, Silver Lake sun, coming up all lazy. It’s in the palm of your hand now baby.
                            So we hit the boulevard. So make a wish, I'll make it like your birthday
                            everyday. Do you ever feel already buried deep six feet under? It's time to bring out the
                            big balloons. You could've been the greatest. Passport stamps, she's cosmopolitan.
                            Your kiss is cosmic, every move is magic.</p>
                        <p>We're living the life. We're doing it right. Open up your heart. I was tryna hit it and quit
                            it. Her love is like a drug. Always leaves a trail of stardust. The girl's a
                            freak, she drive a jeep in Laguna Beach. Fine, fresh, fierce, we got it on lock. All my
                            girls vintage Chanel baby.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                        <button type="button" class="btn btn-primary" onclick="changeOther()">保存</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- 公共 js -->
<div th:replace="common/common_js"></div>

<script th:inline="javascript">
    function addUser() {
        $("#exampleModal").modal({
            keyboard: true,
            backdrop: "static"
        })
        // commonUtil.openDialog("新用户");
        // console.log(1);
        // window.confirm("新增用户");
    }

    function addConfig() {
        $("#exampleModalScrollable").modal({
            keyboard: true,
            backdrop: "static"
        })
    }

    function changeOther() {
        /*$("#otherContent").html(
            '<table id="newTable" className="table table-hover table-striped">'
            + '<thead className="thead-dark">'
            + '<tr>'
            + '<th>序号</th>'
            + '<th>排序号</th>'
            + '<th>创建时间</th>'
            + '</tr>'
            + '</thead>'
            + '<tbody>'
            + '<tr th:each="role,stat : ${roleList}">'
            + '<th th:text="${ stat.count }"></th>'
            + '<th th:text="${ role.roleName }"></th>'
            + '<th th:text="${ role.orderNum }"></th>'
            + '<td th:text="${ #dates.format(role.createDt,\'yyyy-MM-dd HH:mm\') }"></td>'
            + '</tr>'
            + '</tbody>'
            + '</table>'
        );*/
        let roleList = [[${roleList}]];
        let columnTitle;
        let columnValue;

        if (roleList) {
            columnTitle = [{field: 'id', title: '序号'}, {field: 'roleName', title: '角色名称'}, {
                field: 'orderNum',
                title: '排序号'
            }, {field: 'oper', title: '操作'}]
            columnValue = [];
            $(roleList).each(function (index, ele) {
                columnValue[index] = {
                    id: (index + 1),
                    roleName: ele.roleName,
                    orderNum: ele.orderNum,
                    oper: '<a>查看</a>'
                }
            })
        }

        let colums = [{field: 'id', title: '序号'}, {field: 'roleName', title: '角色名称'}, {
            field: 'id',
            title: '序号'
        }, {field: 'id', title: '序号'}]
        $("#tableContent").bootstrapTable('destroy').bootstrapTable({
            pagination: true,
            search: true,
            columns: columnTitle,
            data: columnValue,
            theadClasses: 'thead-dark'

        });
    }
</script>
</body>
</html>